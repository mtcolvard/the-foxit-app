parks_within_perp_distance = {919: {'park_lon_lat': [-0.08412343783119, 51.527556921105], 'park_crowflys_bearing': (1317.727585980543, -0.7505346643102441, 316.997531356755), 'perp_distance_angle': (481.38632091328833, 0.3739717130992348), 'size_in_hectares': 0.0}, 1040: {'park_lon_lat': [-0.075555186872678, 51.525618133595], 'park_crowflys_bearing': (808.2018493648911, -0.3883069161670953, 337.75165254788516), 'perp_distance_angle': (9.491276018948783, 0.01174396495608604), 'size_in_hectares': 0.2544}, 1361: {'park_lon_lat': [-0.079234051147161, 51.540965775303], 'park_crowflys_bearing': (2517.774955795645, -0.22442632673080956, 347.14131866670056), 'perp_distance_angle': (381.56985768618443, 0.15213662448019968), 'size_in_hectares': 0.5}, 1568: {'park_lon_lat': [-0.076768590395894, 51.531033573258], 'park_crowflys_bearing': (1405.3767404786001, -0.28112401525534203, 343.89278040609753), 'perp_distance_angle': (133.92413445281122, 0.09543893595566721), 'size_in_hectares': 0.0}, 1647: {'park_lon_lat': [-0.07688220298944, 51.528337668669], 'park_crowflys_bearing': (1123.2322600866562, -0.3619969204953602, 339.25910425888304), 'perp_distance_angle': (16.360457055923316, 0.014566030715649048), 'size_in_hectares': 0.2025}, 1746: {'park_lon_lat': [-0.095814541858328, 51.558321870096], 'park_crowflys_bearing': (4705.114811935465, -0.37111903959706805, 338.73644533413955), 'perp_distance_angle': (25.614102651852406, 0.005443911613941199), 'size_in_hectares': 0.0}, 1747: {'park_lon_lat': [-0.094372882734824, 51.558298461632], 'park_crowflys_bearing': (4667.420074520242, -0.35142315058145784, 339.86493664849206), 'perp_distance_angle': (117.32565072737533, 0.0251398006295514), 'size_in_hectares': 0.0}, 1810: {'park_lon_lat': [-0.082682760333115, 51.527533378947], 'park_crowflys_bearing': (1249.8507173772791, -0.6936254328050221, 320.2581901373371), 'perp_distance_angle': (389.67447078415944, 0.31706248159401285), 'size_in_hectares': 0.247}, 1811: {'park_lon_lat': [-0.081053155453814, 51.532003004746], 'park_crowflys_bearing': (1611.4667429658616, -0.43991592303847166, 334.79467426929364), 'perp_distance_angle': (102.02292867640406, 0.06335297182746241), 'size_in_hectares': 0.0}, 1839: {'park_lon_lat': [-0.069678742519302, 51.528219335204], 'park_crowflys_bearing': (1042.125039195353, 0.09661935996566655, 5.535881545287964), 'perp_distance_angle': (474.91850999813784, 0.4731823111766758), 'size_in_hectares': 0.3706}, 2057: {'park_lon_lat': [-0.093457325647312, 51.545694075215], 'park_crowflys_bearing': (3356.6894722097863, -0.4779088048447557, 332.6178424902542), 'perp_distance_angle': (339.60451725736146, 0.10134585363374643), 'size_in_hectares': 0.0}, 2085: {'park_lon_lat': [-0.081889523126672, 51.546404747857], 'park_crowflys_bearing': (3148.5802617219438, -0.2385146862124405, 346.33411512814), 'perp_distance_angle': (433.2767937688285, 0.13804826499856873), 'size_in_hectares': 0.0}, 2157: {'park_lon_lat': [-0.093457325647312, 51.545694075215], 'park_crowflys_bearing': (3356.6894722097863, -0.4779088048447557, 332.6178424902542), 'perp_distance_angle': (339.60451725736146, 0.10134585363374643), 'size_in_hectares': 0.0}, 2160: {'park_lon_lat': [-0.086024779307577, 51.550968552799], 'park_crowflys_bearing': (3712.6262458084925, -0.2810446232952685, 343.897329230337), 'perp_distance_angle': (354.0848471705059, 0.09551832791574072), 'size_in_hectares': 0.69}, 2271: {'park_lon_lat': [-0.097443714021505, 51.553852053091], 'park_crowflys_bearing': (4292.372856308323, -0.4376491578283765, 334.92455034897915), 'perp_distance_angle': (262.04173500512036, 0.061086206617367245), 'size_in_hectares': 0.0}, 2451: {'park_lon_lat': [-0.089434695006163, 51.538434605974], 'park_crowflys_bearing': (2515.084606682862, -0.5274182631251924, 329.78115948480615), 'perp_distance_angle': (377.9764352746598, 0.1508553119141831), 'size_in_hectares': 2.63}, 2522: {'park_lon_lat': [-0.086741077265125, 51.533894432244], 'park_crowflys_bearing': (1987.2850201746862, -0.5743460623247698, 327.09239464883296), 'perp_distance_angle': (390.49384683380197, 0.19778311111376057), 'size_in_hectares': 4.1}, 2717: {'park_lon_lat': [-0.084010256091586, 51.530252837485], 'park_crowflys_bearing': (1545.9405715089729, -0.6141318629086902, 324.8128361908252), 'perp_distance_angle': (363.82245479008384, 0.2375689116976809), 'size_in_hectares': 0.405}, 2742: {'park_lon_lat': [-0.078398576235896, 51.526564010284], 'park_crowflys_bearing': (990.304196087774, -0.5324252948039715, 329.4942777017238), 'perp_distance_angle': (153.72694770702887, 0.15586234359296225), 'size_in_hectares': 0.4}, 2838: {'park_lon_lat': [-0.075289906247353, 51.531908573452], 'park_crowflys_bearing': (1475.7931505139643, -0.19614070167290304, 348.7619656034081), 'perp_distance_angle': (264.8236797545996, 0.1804222495381062), 'size_in_hectares': 0.303}, 2846: {'park_lon_lat': [-0.068390192145626, 51.52460109197], 'park_crowflys_bearing': (662.6656936163051, 0.2903087299071634, 16.63346497948379), 'perp_distance_angle': (409.8792133843298, 0.6668716811181726), 'size_in_hectares': 0.8328}, 2884: {'park_lon_lat': [-0.090499564281303, 51.547444469716], 'park_crowflys_bearing': (3446.0570449303145, -0.39914257889049487, 337.13081480560714), 'perp_distance_angle': (77.80407337743205, 0.022579627679485625), 'size_in_hectares': 0.45}, 2895: {'park_lon_lat': [-0.08071295920855, 51.540090728918], 'park_crowflys_bearing': (2448.7011265012916, -0.27401471424512336, 344.30011334927116), 'perp_distance_angle': (250.67009674365715, 0.10254823696588589), 'size_in_hectares': 0.0}, 2951: {'park_lon_lat': [-0.076427646577775, 51.539121278465], 'park_crowflys_bearing': (2279.138032460419, -0.16139757295428617, 350.7526002460646), 'perp_distance_angle': (486.61647313685006, 0.21516537825672308), 'size_in_hectares': 0.0}}

print(parks_within_perp_distance.values())



# import math
#
#
#
# 51.533174, -0.077015
#
# origin = (-0.07112, 51.51883)
# destination = (-0.058508, 51.528368)
# waypoint1 = (-0.064426, 51.524936)
# waypoint2 = (-0.061608, 51.523735)
#
# def crowflys_bearing(startpoint, endpoint):
#
#     startpoint_lon = startpoint[0]
#     startpoint_lat = startpoint[1]
#     endpoint_lon = endpoint[0]
#     endpoint_lat = endpoint[1]
#
#     R = 6371000
#     φ1 = startpoint_lat * math.pi/180
#     φ2 = endpoint_lat * math.pi/180
#     Δφ = (endpoint_lat - startpoint_lat) * math.pi/180
#     Δλ = (endpoint_lon - startpoint_lon) * math.pi/180
#
#     # CROWFLYS
#     a = math.sin(Δφ/2) * math.sin(Δφ/2) + math.cos(φ1) * math.cos(φ2) * math.sin(Δλ/2) * math.sin(Δλ/2)
#     c = 2 * math.atan2(math.sqrt(a), math.sqrt(1-a))
#     crowflys = R * c
#
#     # BEARING
#     y = math.sin(Δλ) * math.cos(φ2)
#     x = math.cos(φ1)*math.sin(φ2) - math.sin(φ1)*math.cos(φ2)*math.cos(Δλ)
#     θ = math.atan2(y, x)
#     bearing = (θ*180/math.pi + 360) % 360
#
#     return crowflys, θ
#
# def perpendicular_distance_from_bestfit_line(bestFit, waypoint):
#     angle_to_waypoint = math.fabs(bestFit[1] - waypoint[1])
#     # print('angle_to_waypoint', angle_to_waypoint)
#     # print('waypoint[0]', waypoint[0])
#     # print('sin angeltowaypoint',math.sin(angle_to_waypoint))
#     perp_distance = waypoint[0] * math.sin(angle_to_waypoint)
#     # print('perp_distance', perp_distance)
#     # print(perp_distance)
#
#
#
#
# def main():
#     bestFit = crowflys_bearing(origin, destination)
#     print('bestfit', bestFit)
#     waypoint = crowflys_bearing(origin, waypoint2)
#     perpendicular_distance_from_bestfit_line(bestFit, waypoint)
#
#
# if __name__ == "__main__":
#     main()
#
#
# # attempt at sliding bounding box between 60 and 120 degress
# # if θ > math.pi*2/3 and θ > math.pi/3:
# #     lon_atan2offset = math.cos(math.pi/3) * crowflys
# #     verticle_bb(lon_atan2offset)
# #
# # def verticle_bb(offset):
# #     lon_max = origin_lon + (math.cos(θ)/offset)
# #     lon_min = origin_lon - ((offset - math.cos(θ))/offset)
# #     lat_max = destination_lat
# #     lat_min = origin_lat
# #     print(lon_max)
#
#
#
#
#
#
